"use strict";(self.webpackChunkdocumentation_site=self.webpackChunkdocumentation_site||[]).push([[860],{1666:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>i});var o=s(4848),t=s(8453);const r={},a="Backend",d={id:"Backend/Backend",title:"Backend",description:"Created by: James Liu",source:"@site/docs/Backend/Backend.md",sourceDirName:"Backend",slug:"/Backend/",permalink:"/Study-Compass-Documentation/docs/Backend/",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Backend/Backend.md",tags:[],version:"current",frontMatter:{},sidebar:"documentation1",previous:{title:"ErrorProvider Component & ErrorContext",permalink:"/Study-Compass-Documentation/docs/Frontend/ErrorProvider Component & ErrorContext"},next:{title:"Backend: Authentication Routes",permalink:"/Study-Compass-Documentation/docs/Backend/Backend Authentication Routes"}},c={},i=[{value:"Backend Docs",id:"backend-docs",level:2},{value:"Overview",id:"overview",level:2},{value:"<strong>Express Setup</strong>",id:"express-setup",level:3},{value:"<strong>MongoDB Connection</strong>",id:"mongodb-connection",level:3},{value:"<strong>API Endpoints</strong>",id:"api-endpoints",level:2},{value:"<strong>Authentication Routes</strong>",id:"authentication-routes",level:3},{value:"<strong>Data Routes</strong>",id:"data-routes",level:3},{value:"<strong>Additional Routes</strong>",id:"additional-routes",level:3},{value:"<strong>GET <code>/api/greet</code></strong>",id:"get-apigreet",level:3},{value:"<strong>GET <code>/update-database</code></strong>",id:"get-update-database",level:3},{value:"<strong>Database</strong>",id:"database",level:2},{value:"<strong>Mongoose Models</strong>",id:"mongoose-models",level:3},{value:"<strong>Error Handling</strong>",id:"error-handling",level:2},{value:"<strong>FAQs</strong>",id:"faqs",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"backend",children:"Backend"}),"\n",(0,o.jsx)(n.p,{children:"Created by: James Liu\nCreated time: February 22, 2024 2:23 PM\nTags: Backend"}),"\n",(0,o.jsx)(n.h2,{id:"backend-docs",children:"Backend Docs"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"/docs/Backend/Backend%20Authentication%20Routes",children:"Backend: Authentication Routes"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"/docs/Backend/Backend%20Data%20Fetching%20Routes",children:"Backend: Data Fetching Routes"})}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(n.h3,{id:"express-setup",children:(0,o.jsx)(n.strong,{children:"Express Setup"})}),"\n",(0,o.jsx)(n.p,{children:"The Express application is initialized and configured with necessary middleware such as JSON parsing, CORS, and cookie parsing:"}),"\n",(0,o.jsxs)(n.p,{children:["CORS is handled with React proxy calls to ",(0,o.jsx)(n.a,{href:"http://localhost",children:"localhost"})," port 5001 (don\u2019t ask why it\u2019s 5001)"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"const express = require('express');\nconst app = express();\napp.use(express.json());\napp.use(cors());\napp.use(cookieParser());\n"})}),"\n",(0,o.jsx)(n.h3,{id:"mongodb-connection",children:(0,o.jsx)(n.strong,{children:"MongoDB Connection"})}),"\n",(0,o.jsx)(n.p,{children:"MongoDB is connected using Mongoose, with connection status logging:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"mongoose.connect(process.env.MONGO_URL);\nmongoose.connection.on('connected', () => {\n    console.log('Mongoose connected to DB.');\n});\nmongoose.connection.on('error', (err) => {\n    console.log('Mongoose connection error:', err);\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"api-endpoints",children:(0,o.jsx)(n.strong,{children:"API Endpoints"})}),"\n",(0,o.jsx)(n.h3,{id:"authentication-routes",children:(0,o.jsx)(n.strong,{children:"Authentication Routes"})}),"\n",(0,o.jsxs)(n.p,{children:["Handled by ",(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"authRoutes.js"})," (see table of contents):"]})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"javascriptCopy code\nconst authRoutes = require('./authRoutes.js');\napp.use(authRoutes);\n"})}),"\n",(0,o.jsx)(n.h3,{id:"data-routes",children:(0,o.jsx)(n.strong,{children:"Data Routes"})}),"\n",(0,o.jsxs)(n.p,{children:["Handled by ",(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"dataRoutes.js"})," (see table of contents):"]})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"javascriptCopy code\nconst dataRoutes = require('./dataRoutes.js');\napp.use(dataRoutes);\n"})}),"\n",(0,o.jsx)(n.h3,{id:"additional-routes",children:(0,o.jsx)(n.strong,{children:"Additional Routes"})}),"\n",(0,o.jsx)(n.h3,{id:"get-apigreet",children:(0,o.jsxs)(n.strong,{children:["GET ",(0,o.jsx)(n.code,{children:"/api/greet"})]})}),"\n",(0,o.jsx)(n.p,{children:"Returns a greeting message:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"app.get('/api/greet', async (req, res) => {\n    res.json({ message: 'Hello from the backend!' });\n});\n"})}),"\n",(0,o.jsx)(n.h3,{id:"get-update-database",children:(0,o.jsxs)(n.strong,{children:["GET ",(0,o.jsx)(n.code,{children:"/update-database"})]})}),"\n",(0,o.jsx)(n.p,{children:"Triggers a Python script to update the database:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"app.get('/update-database', (req, res) => {\n    const pythonProcess = spawn('python3', ['courseScraper.py']);\n    pythonProcess.stdout.on('data', (data) => {\n        res.send(data.toString());\n    });\n    pythonProcess.stderr.on('data', (data) => {\n        res.send(data.toString());\n    });\n    pythonProcess.on('close', (code) => {\n        console.log(`child process exited with code ${code}`);\n    });\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"database",children:(0,o.jsx)(n.strong,{children:"Database"})}),"\n",(0,o.jsx)(n.h3,{id:"mongoose-models",children:(0,o.jsx)(n.strong,{children:"Mongoose Models"})}),"\n",(0,o.jsxs)(n.p,{children:["Mongoose Models are stored in the ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"schemas"})})," folder,"]}),"\n",(0,o.jsx)(n.h2,{id:"error-handling",children:(0,o.jsx)(n.strong,{children:"Error Handling"})}),"\n",(0,o.jsx)(n.p,{children:"Ensure proper error handling by logging errors and providing meaningful responses to clients. Implement error handling middleware in Express as needed."}),"\n",(0,o.jsx)(n.h3,{id:"faqs",children:(0,o.jsx)(n.strong,{children:"FAQs"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Question 1"}),": Answer."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Question 2"}),": Answer."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"**"})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>d});var o=s(6540);const t={},r=o.createContext(t);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);