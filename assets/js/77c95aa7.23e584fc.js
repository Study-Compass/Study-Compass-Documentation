"use strict";(self.webpackChunkdocumentation_site=self.webpackChunkdocumentation_site||[]).push([[775],{498:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>c});var r=s(4848),i=s(8453);const o={},l="Backend: Data Fetching Routes",d={id:"Backend/Backend Data Fetching Routes",title:"Backend: Data Fetching Routes",description:"Created by: James Liu",source:"@site/docs/Backend/Backend Data Fetching Routes.md",sourceDirName:"Backend",slug:"/Backend/Backend Data Fetching Routes",permalink:"/docs/Backend/Backend Data Fetching Routes",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Backend/Backend Data Fetching Routes.md",tags:[],version:"current",frontMatter:{},sidebar:"documentation1",previous:{title:"Backend: Authentication Routes",permalink:"/docs/Backend/Backend Authentication Routes"},next:{title:"Backend Tutorial",permalink:"/docs/Backend/Backend Tutorial"}},t={},c=[{value:"Data Fetching API Endpoints",id:"data-fetching-api-endpoints",level:2},{value:"Endpoints",id:"endpoints",level:3},{value:"GET /getroom/",id:"get-getroom",level:3},{value:"Path Parameters",id:"path-parameters",level:3},{value:"Responses",id:"responses",level:3},{value:"GET /getrooms",id:"get-getrooms",level:3},{value:"Responses",id:"responses-1",level:3},{value:"POST /free",id:"post-free",level:3},{value:"Request Body",id:"request-body",level:3},{value:"Responses",id:"responses-2",level:3},{value:"POST /getbatch",id:"post-getbatch",level:3},{value:"Request Body",id:"request-body-1",level:3},{value:"Responses",id:"responses-3",level:3},{value:"<strong>Additional Notes</strong>",id:"additional-notes",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"backend-data-fetching-routes",children:"Backend: Data Fetching Routes"}),"\n",(0,r.jsx)(n.p,{children:"Created by: James Liu\nCreated time: February 22, 2024 2:46 PM\nTags: Backend"}),"\n",(0,r.jsx)(n.h2,{id:"data-fetching-api-endpoints",children:"Data Fetching API Endpoints"}),"\n",(0,r.jsx)(n.p,{children:"These endpoints are designed to facilitate data retrieval related to classrooms, schedules, and availability within a school or educational institution's system."}),"\n",(0,r.jsx)(n.h3,{id:"endpoints",children:"Endpoints"}),"\n",(0,r.jsxs)(n.h3,{id:"get-getroom",children:["GET /getroom/",":id"]}),"\n",(0,r.jsx)(n.p,{children:"Retrieves details about a specific classroom by its ID."}),"\n",(0,r.jsx)(n.h3,{id:"path-parameters",children:"Path Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"id"}),': Classroom ID or "none" for an empty room object.']}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"responses",children:"Responses"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"200 OK"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Description: Successfully retrieved classroom details or empty room."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Body (example for a valid room ID):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Room found",\n  "room": {\n    "name": "Room101",\n    "_id": "roomID"\n  },\n  "data": {\n    // Schedule details\n  }\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Body (example for "none"):'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Empty room object returned",\n  "room": {\n    "name": null\n  },\n  "data": {}\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"404 Not Found"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Description: Room not found."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "message": "Room not found"\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"500 Internal Server Error"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Description: Error retrieving room."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "message": "Error retrieving room"\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"get-getrooms",children:"GET /getrooms"}),"\n",(0,r.jsx)(n.p,{children:"Fetches a dictionary of all classrooms with their names and IDs."}),"\n",(0,r.jsx)(n.h3,{id:"responses-1",children:"Responses"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"200 OK"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Description: Successfully fetched all room names."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "All room names fetched",\n  "data": {\n    "Room101": "roomID101",\n    "Room102": "roomID102"\n    // More rooms\n  }\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"500 Internal Server Error"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Description: Error fetching room names."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "message": "Error fetching room names"\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"post-free",children:"POST /free"}),"\n",(0,r.jsx)(n.p,{children:"Finds classrooms that are available during specified free periods."}),"\n",(0,r.jsx)(n.h3,{id:"request-body",children:"Request Body"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "query": {\n    "M": [\n      {\n        "start_time": 900,\n        "end_time": 1020\n      }\n    ],\n    "W": [\n      {\n        "start_time": 690,\n        "end_time": 930\n      }\n     ]\n    // More days can be included\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"note: start and end times are repesented by minutes from midnight"}),"\n",(0,r.jsx)(n.h3,{id:"responses-2",children:"Responses"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"200 OK"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Description: Successfully found rooms available during specified periods."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Rooms available during the specified periods",\n  "data": ["Room101", "Room103"]\n}\n\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"500 Internal Server Error"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Description: Error finding free rooms."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "message": "Error finding free rooms"\n}\n\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"post-getbatch",children:"POST /getbatch"}),"\n",(0,r.jsx)(n.p,{children:"Retrieves batch data for multiple queries."}),"\n",(0,r.jsx)(n.h3,{id:"request-body-1",children:"Request Body"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "queries": ["roomID101", "roomID102"],\n  "exhaustive": true\n}\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"responses-3",children:"Responses"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"200 OK"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Description: Successfully retrieved room and schedule data for multiple queries."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Rooms found",\n  "data": [\n    {\n      "room": {\n        "name": "Room101",\n        "_id": "roomID101"\n      },\n      "data": {\n        // Schedule details\n      }\n    },\n    {\n      "room": {\n        "name": "Room102",\n        "_id": "roomID102"\n      },\n      "data": {\n        // Schedule details\n      }\n    }\n  ]\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"500 Internal Server Error"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Description: Error retrieving data."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "message": "Error retrieving data"\n}\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"additional-notes",children:(0,r.jsx)(n.strong,{children:"Additional Notes"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"/getroom/:name"})})," endpoint includes special handling for a parameter value of ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:'"none"'})}),", returning an empty classroom object. This can be useful for applications that need to display a placeholder or default state when no specific room is selected."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"/free"})})," endpoint requires clients to structure their query carefully, specifying the free periods for each day they are interested in. This allows for flexible querying based on varying daily schedules."]}),"\n",(0,r.jsxs)(n.li,{children:["All responses include a ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"success"})})," boolean to quickly indicate the outcome of the request, a ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"message"})})," providing details about the response or any errors, and a ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"data"})})," object or array containing the requested information or results."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"**"})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var r=s(6540);const i={},o=r.createContext(i);function l(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);